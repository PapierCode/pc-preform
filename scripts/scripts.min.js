!function(e){e.gallery=function(t,n){var s={btnPrevClass:"",btnNextClass:"",btnPrevInner:"Image précédente",btnNextInner:"Image suivante",btnCloseClass:"",btnCloseInner:"Fermer la galerie",loaderContent:'<div class="loader-item loader-item--1"></div><div class="loader-item loader-item--2"></div><div class="loader-item loader-item--3"></div>',closingDuration:400,moveDuration:500,responsiveImg:!1,responsiveKeyPoint:1e3,beforeAddStructure:function(){},afterAddStructure:function(){},beforeChangeSlide:function(){},afterChangeSlide:function(){}},i=this;i.settings={};var a,o,l,r,d,c,v,u,p,g,m,f,h,b,C,y,k=e(t),w=e("body"),I=k.find("a"),x=[],z=[];i.init=function(){i.settings=e.extend({},s,n),k.on("click","a",(function(t){if(t.preventDefault(),i.settings.responsiveImg&&e(window).width()<i.settings.responsiveKeyPoint){for(var n=0;n<I.length;n++)x[n]=I.eq(n).data("gl-responsive"),z[n]=I.eq(n).data("gl-caption");o=x.indexOf(e(this).data("gl-responsive"))}else{for(var s=0;s<I.length;s++)x[s]=I.eq(s).attr("href"),z[s]=I.eq(s).data("gl-caption");o=x.indexOf(e(this).attr("href"))}a=x.length,T(),w.addClass("gl-active").on("keydown",D),$itemsToMove=c.eq(o).prevAll();for(var l=$itemsToMove.length;l>0;l--)$itemsToMove.eq(l-1).appendTo(d);u=c.eq(o).addClass("is-active is-hidden"),q(u,x[o],0),b.html(z[o])}))};var T=function(){var t='<div class="gl" aria-hidden="true"><div class="gl-main"><div class="gl-slides" style="width:'+100*a+'%" ></div></div></div>';w.append(t),l=e(".gl").on("click",j),d=e(".gl-slides");for(var n=0;n<a;n++)d.append('<div class="gl-slide is-hidden slide-'+n+'" style="width:'+(100/a).toFixed(4)+'%"><div class="gl-slide-inner"></div></div>');c=e(".gl-slide"),l.prepend('<div class="gl-header"><div class="gl-counter"><span class="gl-counter-current">'+(o+1)+'</span> / <span class="gl-counter-all">'+x.length+"</span></div></div>"),l.append('<div class="gl-footer"><div class="gl-caption"></div></div>'),r=e(".gl-header"),b=e(".gl-caption"),C=e(".gl-counter"),y=e(".gl-counter-current"),a>1&&(r.append('<button class="gl-btn gl-btn-nav gl-btn-nav--prev reset-btn '+i.settings.btnPrevClass+'" aria-hidden="true" tabindex="-1">'+i.settings.btnPrevInner+'</button><button class="gl-btn gl-btn-nav gl-btn-nav--next reset-btn '+i.settings.btnNextClass+'" aria-hidden="true" tabindex="-1">'+i.settings.btnPrevInner+"</button>"),g=e(".gl-btn-nav").on("mouseup",(function(){e(this).blur()})),m=e(".gl-btn-nav--prev").on("click",(function(){A()})),f=e(".gl-btn-nav--next").on("click",(function(){L()}))),r.append('<button class="gl-btn gl-btn-close reset-btn '+i.settings.btnCloseClass+'">'+i.settings.btnCloseInner+"</button>"),h=e(".gl-btn-close").on("click",(function(){S()})),l.append('<div class="gl-loader loader">'+i.settings.loaderContent+"</div>"),p=e(".loader"),i.settings.afterAddStructure(l,p,C,m,f,h,g)},D=function(e){switch(e.keyCode){case 27:S();break;case 37:a>1&&A();break;case 39:a>1&&L()}},A=function(){-1===(o-=1)&&(o=x.length-1),q(c.eq(o),x[o],-1)},L=function(){(o+=1)>x.length-1&&(o=0),q(c.eq(o),x[o],1)},S=function(){l.addClass("is-hidden"),setTimeout((function(){l.remove()}),i.settings.closingDuration),w.removeClass("gl-active").off("keydown",D)},j=function(t){e(t.target).is("img, button")||S()},q=function(t,n,s){t.hasClass("is-loaded")?0!==s&&P(s):(p.removeClass("is-hidden"),a>1&&g.addClass("is-loading"),e.ajax({url:n,cache:!0,processData:!1}).always((function(){p.addClass("is-hidden"),a>1&&g.removeClass("is-loading"),t.addClass("is-loaded").children().append('<img src="'+n+'" />'),F(t.find("img")),0===s?t.removeClass("is-hidden"):P(s)})))},P=function(e){i.settings.beforeChangeSlide(o),g.attr("disabled","disabled").addClass("is-disabled"),w.off("keydown",D),v=u.removeClass("is-active").addClass("is-leaving"),u=c.eq(o).addClass("is-coming"),e<0?(d.css("left",100*e+"%").children(":last").prependTo(d),v.addClass("is-leaving-to-right"),u.addClass("is-coming-from-left")):(v.addClass("is-leaving-to-left"),u.addClass("is-coming-from-right")),d.animate({left:"-="+100*e+"%"},{duration:i.settings.moveDuration*Math.abs(e),complete:function(){u.addClass("is-active").removeClass("is-coming"),v.removeClass("is-leaving"),g.removeAttr("disabled").removeClass("is-disabled"),w.on("keydown",D),e>0?(d.css("left","0").children(":first").appendTo(d),v.removeClass("is-leaving-to-left"),u.removeClass("is-coming-from-right")):(v.removeClass("is-leaving-to-right"),u.removeClass("is-coming-from-left")),y.text(o+1),b.html(z[o]),i.settings.afterChangeSlide(o)}})},F=function(e){var t;e[0].addEventListener("touchstart",(function(e){var n=e.changedTouches[0];t=parseInt(n.clientX),undefined.text(t),e.preventDefault()}),!1),e[0].addEventListener("touchend",(function(e){var n=e.changedTouches[0],s=parseInt(n.clientX)-t;Math.abs(s)>50&&(s>0?A():L()),e.preventDefault()}),!1)};i.foo_public_method=function(){},i.init()},e.fn.gallery=function(t){return this.each((function(){if(void 0===e(this).data("gallery")){var n=new e.gallery(this,t);e(this).data("gallery",n)}}))}}(jQuery);var rem=function(e,t){return null==t&&(t=16),e/t+"rem"};jQuery(document).ready((function(e){var t,n,s,i=e(window),a=e("html"),o=e("body"),l=e("head"),r=e(".header"),d=e(".fs-img"),c=e(".main-header"),v=0;function u(){a.hasClass("is-fullscreen")&&(n=i.width())!=v&&(t=i.height(),s=r.outerHeight(),c.css("height",rem(t-s)),d.css("height",rem(t)),v=n)}u(),i.resize(u),e(".js-h-nav").click((function(){a.toggleClass("h-nav-is-open")})),e(".h-nav").click((function(t){e(t.target).is(".h-nav *")||a.removeClass("h-nav-is-open")})),a.hasClass("is-fullscreen")&&e(".fs-more-btn").click((function(){e("html, body").animate({scrollTop:t},500)})),e("button:not(.overlay)").mouseup((function(){e(this).blur()})),e(".wp-gallery").gallery({btnNextInner:sprite.arrow,btnPrevInner:sprite.arrow,btnCloseInner:sprite.cross,moveDuration:500,responsiveImg:!0}),e(".editor iframe").each((function(){e(this).wrap('<div class="iframe iframe_16-10"></div>')}));var p=e(".btn-display-pop");if(p.length>0){var g=e(".pop"),m=!1,f=15,h=function(){g.removeClass("is-visible").empty(),o.off("keydown",b)},b=function(){27==event.keyCode&&h()};p.click((function(){if($this=e(this),"map"==$this.data("cible")){g.addClass("pop--map").append('<div id="map" class="pop-inner map"></div><div class="pop-controls"><button type="button" class="map-btn-zoom map-btn-zoom--in button">'+sprite.more+'</button><button type="button" class="map-btn-zoom map-btn-zoom--out button">'+sprite.less+'</button><button type="button" class="pop-btn-hide button" title="Fermer" data-cible="map">'+sprite.cross+"</button></div>");var t=$this.data("lat"),n=$this.data("long"),s=(g.find(".map-btn-zoom").mouseup((function(){e(this).blur()})),g.find(".map-btn-zoom--in")),i=g.find(".map-btn-zoom--out");if(g.find(".pop-btn-hide").on("click",h),o.on("keydown",b),!m){m=!0;var a=e(document.createElement("link"));a.attr("href","https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"),a.attr("rel","stylesheet"),a.attr("integrity","sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="),a.attr("crossorigin",""),l.append(a);var r=e(document.createElement("script"));r.attr("src","https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"),r.attr("integrity","sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="),r.attr("crossorigin",""),o.append(r)}var d=setInterval((function(){if("undefined"!=typeof L){clearInterval(d),g.addClass("is-visible"),o.on("keydown",b);var a=L.map("map",{minZoom:10,maxZoom:18,zoomControl:!1,scrollWheelZoom:!1,tap:!1}).setView([t,n],15);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJja203a3E5N3kweXplMnhuNjBuOTV2bmQ1In0.UtKowadsitAGdxDUpMv5aA",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(a);var l=L.divIcon({iconSize:[40,60],iconAnchor:[20,60],className:"map-marker"});L.marker([t,n],{icon:l}).addTo(a);s.click((function(){a.zoomIn(),18==++f&&e(this).prop("disabled",!0),11==f&&i.prop("disabled",!1)})),i.click((function(){a.zoomOut(),10==--f&&e(this).prop("disabled",!0),17==f&&s.prop("disabled",!1)}))}}),100)}}))}}));